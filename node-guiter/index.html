<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>音声分析</title>
    <link rel="stylesheet" href="main.css">
</head>
<body>
<header>
    <h1 id="maru">➀</h1>
</header>

<canvas id="canvas" width="600" height="400"></canvas>
<h1 id="tu">使い方</h1>
<h3>
    弾きたいコードをボタンから入力してください。<br>
    入力されたコードはボタンの下に表示されます。<br>
    表示してあるコードは実行ボタンを押すことで、左から順番に4拍子でギター盤に表示されます。<br>
    削除ボタンはこれまで入力したコードを消すことができます。<br>
    確認ボタンはボタン下に表示されている最初のコードをギター盤で確認することができます。
</h3>

<br clear="left">
<h1></h1>
<button class="C-code" type="button" onclick="guiterC()">Cコード</button>
<button class="Cm-code" type="button" onclick="guiterCm()">Cmコード</button>
<button class="D-code" type="button" onclick="guiterD()">Dコード</button>
<button class="E-code" type="button" onclick="guiterE()">Eコード</button>
<button class="G-code" type="button" onclick="guiterG()">Gコード</button>
<button class="A-code" type="button" onclick="guiterA()">Aコード</button>
<button id="btn" type="button" value="click">実行</button>
<button class="clear" type="button" onclick="clear12()">削除</button>
<button id="zero" type="button" value="click">確認</button>
<button onclick="location.href='./index2.html'">チューニングしにいく</button>

<h1 id = "text"></h1>

<script type="text/javascript">

var list = [];
var listname = [];

    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');

    async function black(){
        ctx.fillRect(50,150,500,100),ctx.clearRect(60, 160, 30, 2),ctx.clearRect(100, 160, 30, 2),ctx.clearRect(140, 160, 30, 2),
        ctx.clearRect(180, 160, 30, 2),ctx.clearRect(220, 160, 30, 2),ctx.clearRect(260, 160, 30, 2),ctx.clearRect(300, 160, 30, 2),
        ctx.clearRect(340, 160, 30, 2),ctx.clearRect(380, 160, 30, 2),ctx.clearRect(420, 160, 30, 2),ctx.clearRect(460, 160, 30, 2),
        ctx.clearRect(500, 160, 30, 2);
        ctx.clearRect(60, 175, 30, 2),ctx.clearRect(100, 175, 30, 2),ctx.clearRect(140, 175, 30, 2),ctx.clearRect(180, 175, 30, 2),
        ctx.clearRect(220, 175, 30, 2),ctx.clearRect(260, 175, 30, 2),ctx.clearRect(300, 175, 30, 2),ctx.clearRect(340, 175, 30, 2),
        ctx.clearRect(380, 175, 30, 2),ctx.clearRect(420, 175, 30, 2),ctx.clearRect(460, 175, 30, 2),ctx.clearRect(500, 175, 30, 2);
        ctx.clearRect(60, 190, 30, 2),ctx.clearRect(100, 190, 30, 2),ctx.clearRect(140, 190, 30, 2),ctx.clearRect(180, 190, 30, 2),
        ctx.clearRect(220, 190, 30, 2),ctx.clearRect(260, 190, 30, 2),ctx.clearRect(300, 190, 30, 2),ctx.clearRect(340, 190, 30, 2),
        ctx.clearRect(380, 190, 30, 2),ctx.clearRect(420, 190, 30, 2),ctx.clearRect(460, 190, 30, 2),ctx.clearRect(500, 190, 30, 2);
        ctx.clearRect(60, 205, 30, 2),ctx.clearRect(100, 205, 30, 2),ctx.clearRect(140, 205, 30, 2),ctx.clearRect(180, 205, 30, 2),
        ctx.clearRect(220, 205, 30, 2),ctx.clearRect(260, 205, 30, 2),ctx.clearRect(300, 205, 30, 2),ctx.clearRect(340, 205, 30, 2),
        ctx.clearRect(380, 205, 30, 2),ctx.clearRect(420, 205, 30, 2),ctx.clearRect(460, 205, 30, 2),ctx.clearRect(500, 205, 30, 2);
        ctx.clearRect(60, 220, 30, 2),ctx.clearRect(100, 220, 30, 2),ctx.clearRect(140, 220, 30, 2),ctx.clearRect(180, 220, 30, 2),
        ctx.clearRect(220, 220, 30, 2),ctx.clearRect(260, 220, 30, 2),ctx.clearRect(300, 220, 30, 2),ctx.clearRect(340, 220, 30, 2),
        ctx.clearRect(380, 220, 30, 2),ctx.clearRect(420, 220, 30, 2),ctx.clearRect(460, 220, 30, 2),ctx.clearRect(500, 220, 30, 2);
        ctx.clearRect(60, 235, 30, 2),ctx.clearRect(100, 235, 30, 2),ctx.clearRect(140, 235, 30, 2),ctx.clearRect(180, 235, 30, 2),
        ctx.clearRect(220, 235, 30, 2),ctx.clearRect(260, 235, 30, 2),ctx.clearRect(300, 235, 30, 2),ctx.clearRect(340, 235, 30, 2),
        ctx.clearRect(380, 235, 30, 2),ctx.clearRect(420, 235, 30, 2),ctx.clearRect(460, 235, 30, 2),ctx.clearRect(500, 235, 30, 2);
    }
//------------------------------------------------------------------------------------------------------------------------------------------------
//クリア完成
    async function clear12(){
        black();
        list.splice(0);
        listname.splice(0);
        console.log(list);
        console.log(listname);
        var str = listname;
        document.getElementById("text").innerHTML = str;
    }
//------------------------------------------------------------------------------------------------------------------------------------------------
//文字表示

    function draw() {
        var ctx = document.getElementById('canvas').getContext('2d');
        ctx.font = '20px serif';
        ctx.fillText(1, 70, 270),ctx.fillText(2, 110, 270),ctx.fillText(3, 150, 270),
        ctx.fillText(4, 190, 270),ctx.fillText(5,230, 270),ctx.fillText(6, 270, 270),
        ctx.fillText(7, 310, 270),ctx.fillText(8, 350, 270),ctx.fillText(9, 390, 270),
        ctx.fillText(10, 425, 270),ctx.fillText(11, 465, 270),ctx.fillText(12, 505, 270);        
    }
    draw()
    function draw1() {
        var ctx = document.getElementById('canvas').getContext('2d');
        ctx.font = '48px serif';
        ctx.fillText('guiter assist', 170, 85);        
    }
    draw1()
//--------------------------------------------------------------------------------------------------------------------------------------------------
//ギターネック図
    ctx.fillRect(50,150,500,100),ctx.clearRect(60, 160, 30, 2),ctx.clearRect(100, 160, 30, 2),ctx.clearRect(140, 160, 30, 2),
    ctx.clearRect(180, 160, 30, 2),ctx.clearRect(220, 160, 30, 2),ctx.clearRect(260, 160, 30, 2),ctx.clearRect(300, 160, 30, 2),
    ctx.clearRect(340, 160, 30, 2),ctx.clearRect(380, 160, 30, 2),ctx.clearRect(420, 160, 30, 2),ctx.clearRect(460, 160, 30, 2),
    ctx.clearRect(500, 160, 30, 2);
    ctx.clearRect(60, 175, 30, 2),ctx.clearRect(100, 175, 30, 2),ctx.clearRect(140, 175, 30, 2),ctx.clearRect(180, 175, 30, 2),
    ctx.clearRect(220, 175, 30, 2),ctx.clearRect(260, 175, 30, 2),ctx.clearRect(300, 175, 30, 2),ctx.clearRect(340, 175, 30, 2),
    ctx.clearRect(380, 175, 30, 2),ctx.clearRect(420, 175, 30, 2),ctx.clearRect(460, 175, 30, 2),ctx.clearRect(500, 175, 30, 2);
    ctx.clearRect(60, 190, 30, 2),ctx.clearRect(100, 190, 30, 2),ctx.clearRect(140, 190, 30, 2),ctx.clearRect(180, 190, 30, 2),
    ctx.clearRect(220, 190, 30, 2),ctx.clearRect(260, 190, 30, 2),ctx.clearRect(300, 190, 30, 2),ctx.clearRect(340, 190, 30, 2),
    ctx.clearRect(380, 190, 30, 2),ctx.clearRect(420, 190, 30, 2),ctx.clearRect(460, 190, 30, 2),ctx.clearRect(500, 190, 30, 2);
    ctx.clearRect(60, 205, 30, 2),ctx.clearRect(100, 205, 30, 2),ctx.clearRect(140, 205, 30, 2),ctx.clearRect(180, 205, 30, 2),
    ctx.clearRect(220, 205, 30, 2),ctx.clearRect(260, 205, 30, 2),ctx.clearRect(300, 205, 30, 2),ctx.clearRect(340, 205, 30, 2),
    ctx.clearRect(380, 205, 30, 2),ctx.clearRect(420, 205, 30, 2),ctx.clearRect(460, 205, 30, 2),ctx.clearRect(500, 205, 30, 2);
    ctx.clearRect(60, 220, 30, 2),ctx.clearRect(100, 220, 30, 2),ctx.clearRect(140, 220, 30, 2),ctx.clearRect(180, 220, 30, 2),
    ctx.clearRect(220, 220, 30, 2),ctx.clearRect(260, 220, 30, 2),ctx.clearRect(300, 220, 30, 2),ctx.clearRect(340, 220, 30, 2),
    ctx.clearRect(380, 220, 30, 2),ctx.clearRect(420, 220, 30, 2),ctx.clearRect(460, 220, 30, 2),ctx.clearRect(500, 220, 30, 2);
    ctx.clearRect(60, 235, 30, 2),ctx.clearRect(100, 235, 30, 2),ctx.clearRect(140, 235, 30, 2),ctx.clearRect(180, 235, 30, 2),
    ctx.clearRect(220, 235, 30, 2),ctx.clearRect(260, 235, 30, 2),ctx.clearRect(300, 235, 30, 2),ctx.clearRect(340, 235, 30, 2),
    ctx.clearRect(380, 235, 30, 2),ctx.clearRect(420, 235, 30, 2),ctx.clearRect(460, 235, 30, 2),ctx.clearRect(500, 235, 30, 2);

//--------------------------------------------------------------------------------------------------------------------------------------------------
//Cコード
    
    async function guiterC() {
        list.push([70,172,9,9],[110,202,9,9],[150,217,9,9]);
        // for (let i = 0; i <= 2; i++) {
        //     ctx.clearRect(list[i][0],list[i][1],list[i][2],list[i][3]);
        // }
        listname.push("Cコード");

        console.log(list);
        console.log(listname);
        var str = listname;
        document.getElementById("text").innerHTML = str;
    }
//Cmコード------------------------------------------------------------------------------------------

    async function guiterCm() {
        list.push([350,156,9,86],[430,202,9,9],[430,217,9,9]);
        // for (let i = 0; i <= 2; i++) {
        //         ctx.clearRect(list[i][0],list[i][1],list[i][2],list[i][3]);
        // }
        listname.push("Cmコード");
        var str = listname;
        document.getElementById("text").innerHTML = str;
    }

//Dコード------------------------------------------------------------------------------------------

    async function guiterD() {
        list.push([110,156,9,9],[110,187,9,9],[150,172,9,9]);
        // for (let i = 0; i <= 2; i++) {
        //         ctx.clearRect(list[i][0],list[i][1],list[i][2],list[i][3]);
        // }
        listname.push("Dコード");
        var str = listname;
        document.getElementById("text").innerHTML = str;
    }

//Eコード------------------------------------------------------------------------------------------

    async function guiterE() {
        list.push([110,217,9,9],[70,187,9,9],[110,202,9,9]);
        // for (let i = 0; i <= 2; i++) {
        //         ctx.clearRect(list[i][0],list[i][1],list[i][2],list[i][3]);
        // }
        listname.push("Eコード");
        var str = listname;
        document.getElementById("text").innerHTML = str;
    }

//Gコード------------------------------------------------------------------------------------------

    async function guiterG() {
        list.push([110,217,9,9],[150,157,9,9],[150,232,9,9]);
        // for (let i = 0; i <= 2; i++) {
        //         ctx.clearRect(list[i][0],list[i][1],list[i][2],list[i][3]);
        // }
        listname.push("Gコード");
        var str = listname;
        document.getElementById("text").innerHTML = str;
    }
    
//Aコード------------------------------------------------------------------------------------------

    async function guiterA() {
        list.push([110,187,9,9],[110,172,9,9],[110,202,9,9]);
        // for (let i = 0; i <= 2; i++) {
        //         ctx.clearRect(list[i][0],list[i][1],list[i][2],list[i][3]);
        // }
        listname.push("Aコード");
        var str = listname;
        document.getElementById("text").innerHTML = str;
    }
//--------------------------------------------------------------------------------------------------------------------------------------------------    

    let btn = document.getElementById('btn');
    btn.addEventListener('click',function() {
        let v = 2;
        let i = 0;
        let Timer;
        black();
        Timer = setInterval(function(){
            black();
            for (i; i <= v; i++) {
                ctx.clearRect(list[i][0],list[i][1],list[i][2],list[i][3]);
            }
            if(list.length==v+1){
                clearInterval(Timer);
            }
            console.log(list.length)
            console.log(v+1)
            v += 3;
            
        },4000);
        
    })
    let zero = document.getElementById('zero');
    zero.addEventListener('click',function() {
        for (let p=0; p <= 2; p++) {
                ctx.clearRect(list[p][0],list[p][1],list[p][2],list[p][3]);
        }
        console.log(list[0])
    })
</script>
</body>
</html>